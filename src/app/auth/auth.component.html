<div class="container-fluid">
  <div class="row px-2 px-sm-3 px-md-0">
    <div class="col-12" style="margin-top: 10vh; margin-bottom: 10vh;">
      <div *ngIf="isLoading" class="row justify-content-center">
        <div class="col-12" style="text-align: center;">
          <app-loading-spinner></app-loading-spinner>
        </div>
      </div>
      <div *ngIf="!isLoading" class="row justify-content-center">
        <div class="col-md-7 col-lg-6 col-xl-4 col-xxl-3 rounded p-5 shadow-lg" style="background-color: white;" *ngIf="!isLoading">
          <form (ngSubmit)="onSubmit()" [formGroup]="authForm" class="text-center">
            <img src="/assets/images/clone_box_logo.svg" width="300" height="70" class="">
            <h1 class="h3 fw-normal py-5 content-heading">{{ isLoginMode ? ('PLEASE_LOG_IN' | translate) : ('PLEASE_SIGN_UP' | translate) }}</h1>

            <div class="form-floating">
              <input
                type="email"
                class="form-control"
                id="email"
                placeholder="name@example.com"
                formControlName="email"
                [ngClass]="{'is-invalid': authForm.get('email').touched && authForm.get('email').invalid, 'is-valid': authForm.get('email').touched && authForm.get('email').valid}">
              <label for="email">{{ 'EMAIL_ADRESS' | translate }}</label>
            </div>
            <div class="form-floating">
              <input
                type="password"
                class="form-control"
                id="password"
                placeholder="Password"
                formControlName="password"
                [ngClass]="{'is-invalid': authForm.get('password').touched && authForm.get('password').invalid, 'is-valid': authForm.get('password').touched && authForm.get('password').valid}">
              <label for="password">{{ 'PASSWORD' | translate }}</label>
            </div>
            <div *ngIf="!isLoginMode" id="passwordHelpBlock" class="form-text">
              {{ 'PASSW_MIN_6_HELP' | translate }}
            </div>
            <div *ngIf="errorMessage" class="alert alert-danger my-4" role="alert">
              <div class="d-flex justify-content-between"><i class="bi bi-exclamation-triangle-fill"></i>{{ errorMessage | translate }}<i (click)="closeError()" class="bi bi-x" style="cursor: pointer;"></i></div>
            </div>
            <hr>
            <a class="fst-italic" style="cursor: pointer; color: var(--dark-grey)" (click)="onSwitchMode()">{{ isLoginMode ? ('NO_ACC_SIGN_UP' | translate) : ('YES_ACC_LOG_IN' | translate) }}</a>
            <hr>
            <button class="w-100 btn btn-lg btn-dark content-heading" type="submit" [disabled]="authForm.invalid">{{ isLoginMode ? ('LOGIN_BUTTON' | translate) : ('SIGN_UP_BUTTON' | translate) }}</button>
            <div class="my-2 lead">
              {{ 'OR' | translate }}
            </div>
            <button class="w-70 btn btn-lg btn-outline-dark d-inline-flex align-items-center justify-content-start" (click)="onGoogle()">
              <img src="./assets/images/google_icon.svg" alt="" width="30">
              <span style="padding-left: 10px;">{{ 'CONTINUE_WITH_GOOGLE' | translate }}</span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
